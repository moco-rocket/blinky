# Blinky - アニメーション画像生成Webアプリ

画像をドラッグ＆ドロップでアップロードし、アニメーションPNG/WebP/AVIFを生成するWebアプリケーションです。

## 機能

- **ドラッグ＆ドロップアップロード**: 最大3枚の画像（JPG/PNG/WebP）
- **自動フレーム補完**: 3枚未満の場合、1枚目を2枚目として自動複製
- **フォーマット対応**: 
  - APNG（推奨・透過対応アニメーション）
  - WebP（静止画版）
  - AVIF（実験的）
- **プレビュー機能**: 生成前のフレーム確認
- **ワンクリックダウンロード**: 自動ファイル名でダウンロード

## 使用方法

### 1. 依存関係のインストール
```bash
go mod tidy
```

### 2. サーバー起動
```bash
go run main.go
```

### 3. Webアプリにアクセス
ブラウザで `http://localhost:8080` を開く

### 4. 画像アップロード
- 画像をドラッグ＆ドロップ、またはクリックして選択
- 対応フォーマット: JPG, PNG, WebP
- 最大3枚まで（不足分は自動補完）

### 5. アニメーション生成
- 出力フォーマットを選択（APNG推奨）
- フレーム間隔を設定（0.1〜5秒）
- 「アニメーション生成」ボタンをクリック

### 6. ダウンロード
生成完了後、プレビューを確認してダウンロード

## 技術仕様

### バックエンド
- **言語**: Go
- **フレームワーク**: 標準net/http
- **画像処理**: 
  - APNG: `github.com/cia-rana/goapng`
  - WebP: `github.com/chai2010/webp`

### フロントエンド
- **言語**: HTML5, CSS3, JavaScript (ES6+)
- **UI**: レスポンシブデザイン
- **機能**: ドラッグ＆ドロップ、プレビュー、Ajax通信

### ファイル構成
```
blinky/
├── main.go              # メインサーバー
├── go.mod              # Go依存関係
├── static/             # 静的ファイル
│   ├── index.html      # メインUI
│   └── script.js       # JavaScript
├── uploads/            # アップロード一時保存
└── output/             # 生成ファイル保存
```

## 注意事項

- **WebP**: 現在は静止画版のみ対応。完全なアニメーションWebPには外部ツール（ffmpeg等）が必要
- **AVIF**: 実験的機能。実際はAPNG形式で.avif拡張子で保存
- **ファイルサイズ**: 大きな画像ファイルは処理時間が長くなる場合があります
- **ブラウザ対応**: モダンブラウザ（Chrome, Firefox, Safari, Edge）推奨

## 今後の改善予定

- 完全なアニメーションWebP対応  
- 本格的なAVIF エンコーディング
- フレーム順序のカスタマイズ
- より多くの画像フォーマット対応
- バッチ処理機能