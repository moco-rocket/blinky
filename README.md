# Blinky - アニメーション画像ジェネレーター

ドラッグ＆ドロップで簡単にアニメーション画像を作成できるWebアプリケーションです。

## 機能

- **画像アップロード**: ドラッグ＆ドロップまたはクリックで最大3枚の画像をアップロード
- **フォーマット対応**: JPG/PNG/WebP形式の入力に対応
- **多様な出力**: APNG（推奨）、WebP、AVIF形式で出力
- **自動フレーム生成**: アップロードした画像を順番にフレームとして使用
- **プレビュー**: アップロードした画像をその場で確認
- **ワンクリックダウンロード**: 生成されたアニメーションを自動ファイル名でダウンロード

## 使用方法

### 1. 環境構築

```bash
# 依存関係をインストール
go mod tidy

# サーバーを起動
go run main.go
```

### 2. Webアプリケーションの使用

1. ブラウザで `http://localhost:8080` にアクセス
2. 画像をドラッグ＆ドロップまたはクリックで選択（2-3枚）
3. 出力フォーマットとフレーム間隔を設定
4. 「アニメーションを生成」ボタンをクリック
5. 生成完了後、「ダウンロード」ボタンでファイルを保存

## 技術仕様

### 入力
- **対応フォーマット**: JPG/PNG/WebP
- **最大枚数**: 3枚
- **自動補完**: 1-2枚の場合、1枚目を複製して3枚にする

### 出力
- **APNG**: 透過対応のアニメーションPNG（推奨）
- **WebP**: 現在は静止画として出力（将来的にアニメーション対応予定）
- **AVIF**: 実験的対応（現在はAPNGをAVIF拡張子で出力）

### フレーム設定
- **間隔**: 100-5000ミリ秒で調整可能
- **デフォルト**: 500ミリ秒

## ファイル構成

```
blinky/
├── main.go           # WebサーバーとAPIエンドポイント
├── go.mod           # Go依存関係
├── makeApng.go      # 元のサンプルコード
├── static/
│   └── index.html   # フロントエンドUI
└── output/          # 生成されたファイルの保存先（自動作成）
```

## API エンドポイント

- `POST /upload` - 画像ファイルのアップロード
- `POST /process` - アニメーション生成
- `GET /download/{filename}` - ファイルダウンロード

## 依存関係

- `github.com/cia-rana/goapng` - APNG生成
- `golang.org/x/image` - 画像処理（WebP対応）

## 制限事項

- WebPアニメーション: 現在未対応（静止画として出力）
- AVIF: 実験的対応（実際にはAPNGファイル）
- ファイルサイズ制限: 10MB

## 今後の改善予定

- [ ] WebPアニメーション対応
- [ ] AVIF完全対応
- [ ] より多くの画像フォーマット対応
- [ ] フレーム順序の調整機能
- [ ] プレビューでのアニメーション再生